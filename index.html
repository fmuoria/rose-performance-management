<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quarterly Performance Scorecard - ROSE Performance Management</title>
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="ROSE Performance Management System - Track quarterly performance scorecards, set targets, and manage team performance with comprehensive dashboards and peer feedback.">
  <meta name="keywords" content="performance management, scorecard, quarterly review, employee performance, team management, peer feedback, KPI tracking, 360 feedback">
  <meta name="author" content="ROSE Organization">
  <meta name="theme-color" content="#667eea">
  <meta name="robots" content="index, follow">
  
  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="ROSE Performance Management - Quarterly Scorecard">
  <meta property="og:description" content="Comprehensive performance management system for tracking quarterly scorecards, team performance, and peer feedback.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://fmuoria.github.io/rose-performance-management/">
  <meta property="og:site_name" content="ROSE Performance Management">
  <meta property="og:locale" content="en_US">
  <meta property="og:image" content="https://fmuoria.github.io/rose-performance-management/og-image.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ROSE Performance Management - Quarterly Scorecard">
  <meta name="twitter:description" content="Comprehensive performance management system for tracking quarterly scorecards, team performance, and peer feedback.">
  <meta name="twitter:site" content="@ROSE">
  <meta name="twitter:image" content="https://fmuoria.github.io/rose-performance-management/og-image.jpg">
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://fmuoria.github.io/rose-performance-management/">
  
  <!-- Schema.org Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "ROSE Performance Management",
    "description": "Comprehensive performance management system for tracking quarterly scorecards, team performance, and peer feedback",
    "url": "https://fmuoria.github.io/rose-performance-management/",
    "applicationCategory": "BusinessApplication",
    "operatingSystem": "Any",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "featureList": [
      "Quarterly Performance Scorecards",
      "KPI Tracking",
      "Team Management",
      "Peer Feedback System",
      "Performance Dashboards",
      "Target Setting"
    ],
    "provider": {
      "@type": "Organization",
      "name": "ROSE Organization"
    }
  }
  </script>
  
  <!-- Preconnect to External Domains for Performance -->
  <link rel="preconnect" href="https://accounts.google.com" crossorigin>
  <link rel="preconnect" href="https://script.google.com" crossorigin>
  
  <!-- Link to external CSS files -->
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="loader.css">
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">
  
  <!-- Apple Touch Icon (if icons are added later) -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="ROSE PMS">
  
  <!-- Stylesheet -->
  <link rel="stylesheet" href="styles.css">
  
  <!-- Google Identity Services - Deferred for Performance -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  
  <!-- Chart.js for Data Visualizations -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  
  <!-- 
    PERFORMANCE: Enable server-side caching and compression (Gzip/Brotli) for optimal performance.
    See documentation at: https://web.dev/uses-long-cache-ttl/ and https://web.dev/uses-text-compression/
  -->
</head>
<body>
<!-- Loading Animation -->
<div class="rose-loader-overlay" id="roseLoader">
  <div class="rose-flower">
    <div class="rose-petal"></div>
    <div class="rose-petal"></div>
    <div class="rose-petal"></div>
    <div class="rose-petal"></div>
    <div class="rose-petal"></div>
    <div class="rose-petal"></div>
    <div class="rose-center"></div>
  </div>
  <div class="loader-message">Fetching data... Please wait while your insights bloom<span class="loading-dots"></span></div>
  <div class="loader-submessage">Loading ROSE Performance Management System</div>
</div>

<div class="container" role="main" aria-label="Performance Management Application">
  <!-- Watermark -->
  <div class="watermark" aria-hidden="true">Created by fmuoria and powered by the ultimate engine</div>
  
  <div class="signin-bar" id="signinBar" role="banner" aria-label="User authentication and profile">
    <div class="logo-container">
      <img src="rose-logo.svg" alt="ROSE Logo" class="rose-logo">
    </div>
    <div id="userStatus" role="status" aria-live="polite"></div>
    <div id="notificationBell" style="display: none;">
      <span id="notification-bell" onclick="showNotificationCenter()" title="Notifications">
        üîî
        <span id="notification-badge" class="notification-badge" style="display: none;">0</span>
      </span>
    </div>
    <div id="g_id_signin" aria-label="Google Sign-In Button"></div>
  </div>
  <h1 class="main-heading">üåπ ROSE Performance Dashboard</h1>
  <div class="tabs" id="tabsContainer" role="tablist" aria-label="Main navigation tabs">
    <!-- Tabs will be dynamically generated based on role -->
  </div>
  
  <!-- SCORECARD TAB -->
  <div class="tab-content active" id="scorecardTab" role="tabpanel" aria-labelledby="scorecard-tab" aria-label="Scorecard Form">
    <form id="scorecardForm" autocomplete="off" onsubmit="event.preventDefault(); saveScorecard();" role="form" aria-label="Performance Scorecard Form">
      <div class="info-row">
        <div class="info-col">
          <label for="employeeName">Employee's Name:</label><br>
          <input type="text" id="employeeName" required aria-required="true" aria-label="Employee name">
        </div>
        <div class="info-col">
          <label for="employeeJob">Job Title:</label><br>
          <input type="text" id="employeeJob" required aria-required="true" aria-label="Job title">
        </div>
        <div class="info-col">
          <label for="division">Division:</label><br>
          <input type="text" id="division" required aria-required="true" aria-label="Division">
        </div>
        <div class="info-col">
          <label for="level">Level:</label><br>
          <input type="text" id="level" disabled aria-label="Level (auto-filled)">
        </div>
        <div class="info-col">
          <label for="periodYear">Year:</label><br>
          <select id="periodYear" aria-label="Select year">
            <option value="2025">2025</option>
            <option value="2026">2026</option>
            <option value="2024">2024</option>
          </select>
        </div>
        <div class="info-col">
          <label for="periodMonth">Month:</label><br>
          <select id="periodMonth" required onchange="loadWeeklyHistory(); if(window.peerReviewRowIndex) loadPeerFeedbackScore(window.peerReviewRowIndex);" aria-required="true" aria-label="Select month">
            <option value="">Select</option>
            <option value="01">January</option>
            <option value="02">February</option>
            <option value="03">March</option>
            <option value="04">April</option>
            <option value="05">May</option>
            <option value="06">June</option>
            <option value="07">July</option>
            <option value="08">August</option>
            <option value="09">September</option>
            <option value="10">October</option>
            <option value="11">November</option>
            <option value="12">December</option>
          </select>
        </div>
        <div class="info-col">
          <label for="periodWeek">Week:</label><br>
          <select id="periodWeek" required aria-required="true" aria-label="Select week">
            <option value="">Select</option>
            <option value="1">Week 1</option>
            <option value="2">Week 2</option>
            <option value="3">Week 3</option>
            <option value="4">Week 4</option>
            <option value="5">Week 5</option>
          </select>
        </div>
      </div>
      <table class="scorecard-table" id="scorecardTable" role="table" aria-label="Performance metrics table">
        <thead>
          <tr>
            <th scope="col">Dimension</th>
            <th scope="col">Performance Measure</th>
            <th scope="col">Target</th>
            <th scope="col">Actual<br><span style="font-weight:normal;">(employee input)</span></th>
            <th scope="col">% Used/Savings</th>
            <th scope="col">Rating<br>(1-5)</th>
            <th scope="col">Weight<br>(%)</th>
            <th scope="col">Weighted<br>Average</th>
            <th scope="col">Manager's Comments</th>
            <th scope="col">Evidence Link</th>
          </tr>
        </thead>
        <tbody id="scorecardBody"></tbody>
      </table>
      <div class="btn-row" id="scorecardBtns" role="group" aria-label="Form actions">
        <button type="submit" aria-label="Save scorecard">Save</button>
        <button type="reset" onclick="resetScorecard()" aria-label="Reset scorecard form">Reset</button>
      </div>
    </form>
    <div class="score-summary" id="scoreSummary" role="status" aria-live="polite"></div>
    <div class="legend" id="scoreLegend" role="note" aria-label="Score legend">
      <b>Score Legend:</b><br>
      1.00‚Äì2.99 Below Target;&nbsp; 3.00 Target Met;&nbsp; 3.1‚Äì4.99 Exceeds Target;&nbsp; 5.00 Far Exceeds Target
    </div>
  </div>
  
  <!-- REPORTS TAB -->
  <div class="tab-content" id="reportsTab" role="tabpanel" aria-labelledby="reports-tab" aria-label="Reports">
    <h2>Your Weekly Submissions</h2>
    <div id="reportsTableWrap" role="region" aria-label="Weekly submission reports"></div>
  </div>
  
  <!-- DASHBOARD TAB -->
  <div class="tab-content" id="dashboardTab" role="tabpanel" aria-labelledby="dashboard-tab" aria-label="Performance Dashboard">
    <h2>Performance Dashboard</h2>
    <div id="dashboardWrap" role="region" aria-label="Performance metrics dashboard"></div>
  </div>
  
  <!-- MY TEAM TAB (Manager/Admin only) -->
  <div class="tab-content" id="myTeamTab" role="tabpanel" aria-labelledby="team-tab" aria-label="My Team">
    <h2>My Team</h2>
    <div id="teamMembersWrap" role="region" aria-label="Team members list"></div>
  </div>
  
  <!-- SET TARGETS TAB (Manager/Admin only) -->
  <div class="tab-content" id="setTargetsTab" role="tabpanel" aria-labelledby="targets-tab" aria-label="Set Quarterly Targets">
    <h2>Set Quarterly Targets</h2>
    <div class="info-row" style="margin-bottom: 20px;">
      <div class="info-col">
        <label for="targetEmployeeSelect">Select Team Member:</label>
        <select id="targetEmployeeSelect" onchange="loadEmployeeCurrentTargets()" aria-label="Select team member for targets">
          <option value="">-- Select Team Member --</option>
        </select>
      </div>
      <div class="info-col">
        <label for="targetYear">Year:</label>
        <select id="targetYear" aria-label="Select target year">
          <option value="2025">2025</option>
          <option value="2026">2026</option>
        </select>
      </div>
      <div class="info-col">
        <label for="targetQuarter">Quarter:</label>
        <select id="targetQuarter" aria-label="Select target quarter">
          <option value="Q1">Q1 (Jan-Mar)</option>
          <option value="Q2">Q2 (Apr-Jun)</option>
          <option value="Q3">Q3 (Jul-Sep)</option>
          <option value="Q4">Q4 (Oct-Dec)</option>
        </select>
      </div>
    </div>
    <div id="targetsFormWrap" role="region" aria-label="Targets form"></div>
  </div>
  
  <!-- TEAM REPORTS TAB (Manager/Admin only) -->
  <div class="tab-content" id="teamReportsTab" role="tabpanel" aria-labelledby="team-reports-tab" aria-label="Team Member Reports">
    <h2>Team Member Reports</h2>
    <div class="info-row" style="margin-bottom: 20px;">
      <div class="info-col" style="max-width: 400px;">
        <label for="teamReportSelect">Select Team Member:</label>
        <select id="teamReportSelect" onchange="loadTeamMemberReports()" aria-label="Select team member for reports">
          <option value="">-- Select Team Member --</option>
        </select>
      </div>
    </div>
    <div id="teamReportsWrap" role="region" aria-label="Team member reports"></div>
  </div>
  
  <!-- TEAM DASHBOARD TAB (Manager/Admin only) -->
  <div class="tab-content" id="teamDashboardTab" role="tabpanel" aria-labelledby="team-dashboard-tab" aria-label="Team Performance Dashboard">
    <h2>Team Performance Dashboard</h2>
    <div class="info-row" style="margin-bottom: 20px;">
      <div class="info-col" style="max-width: 400px;">
        <label for="teamDashboardSelect">Select Team Member:</label>
        <select id="teamDashboardSelect" onchange="loadTeamMemberDashboard()" aria-label="Select team member for dashboard">
          <option value="">-- Select Team Member --</option>
        </select>
      </div>
    </div>
    <div id="teamDashboardWrap" role="region" aria-label="Team member dashboard"></div>
  </div>
    <!-- PEER FEEDBACK TAB (All Users) -->
  <div class="tab-content" id="peerFeedbackTab" role="tabpanel" aria-labelledby="peer-feedback-tab" aria-label="Peer Feedback Requests">
    <h2>‚úçÔ∏è Peer Feedback Requests</h2>
    <p style="color: #718096; margin-bottom: 20px;">Provide honest, constructive feedback on your colleagues' demonstration of ROSE core values.</p>
    <div id="peerFeedbackWrap" role="region" aria-label="Peer feedback requests"></div>
  </div>
  
  <!-- REQUEST PEER FEEDBACK TAB (Manager/Admin only) -->
  <div class="tab-content" id="requestPeerFeedbackTab" role="tabpanel" aria-labelledby="request-feedback-tab" aria-label="Request Peer Feedback">
    <h2>üìã Request Peer Feedback</h2>
    <p style="color: #718096; margin-bottom: 20px;">Request anonymous peer feedback for your team members based on ROSE core values. Select reviewers who work closely with the employee.</p>
    
    <div class="info-row" style="margin-bottom: 20px;">
      <div class="info-col">
        <label for="feedbackEmployeeSelect">Select Team Member:</label>
        <select id="feedbackEmployeeSelect" aria-label="Select team member for feedback">
          <option value="">-- Select Team Member --</option>
        </select>
      </div>
      <div class="info-col">
        <label for="feedbackYear">Year:</label>
        <select id="feedbackYear" aria-label="Select feedback year">
          <option value="2025">2025</option>
          <option value="2026">2026</option>
        </select>
      </div>
      <div class="info-col">
        <label for="feedbackQuarter">Quarter:</label>
        <select id="feedbackQuarter" aria-label="Select feedback quarter">
          <option value="Q1">Q1 (Jan-Mar)</option>
          <option value="Q2">Q2 (Apr-Jun)</option>
          <option value="Q3">Q3 (Jul-Sep)</option>
          <option value="Q4">Q4 (Oct-Dec)</option>
        </select>
      </div>
    </div>
    
    <div style="background: #f7fafc; padding: 20px; border-radius: 8px; margin: 20px 0;">
      <h3>Select Peer Reviewers:</h3>
      <p style="color: #718096; margin-bottom: 15px;">Choose 2-5 colleagues who work closely with this team member. Feedback will be anonymous to the employee.</p>
      <div id="reviewerCheckboxes" role="group" aria-label="Select peer reviewers"></div>
      <button onclick="submitPeerFeedbackRequest()" style="margin-top: 20px; background: #48bb78;" aria-label="Send feedback requests">üì§ Send Feedback Requests</button>
    </div>
  </div>
</div>
</div>

<!-- Application JavaScript (Deferred for Performance) -->
<script src="app.js" defer></script>
  
  <!-- AI INSIGHTS TAB (Manager/Admin only) -->
  <div class="tab-content" id="aiInsightsTab" role="tabpanel" aria-labelledby="ai-insights-tab" aria-label="AI Insights">
    <h2>ü§ñ AI-Powered Insights & Analytics</h2>
    <p style="color: #718096; margin-bottom: 20px;">Generate AI-powered performance reviews and insights for your team members.</p>
    
    <div class="info-row" style="margin-bottom: 20px;">
      <div class="info-col" style="max-width: 500px;">
        <label for="aiInsightsEmployeeSelect">Select Team Member:</label>
        <select id="aiInsightsEmployeeSelect" aria-label="Select team member for AI insights">
          <option value="">-- Select Team Member --</option>
        </select>
      </div>
    </div>
    
    <div id="aiInsightsWrap" role="region" aria-label="AI insights and review generation">
      <div class="empty-msg">Select a team member to generate AI-powered insights and monthly performance reviews.</div>
    </div>
  </div>
  
  <!-- RECOGNITION TAB (All Users) -->
  <div class="tab-content" id="recognitionTab" role="tabpanel" aria-labelledby="recognition-tab" aria-label="Employee Recognition">
    <h2>üèÜ Employee Recognition Awards</h2>
    <p style="color: #718096; margin-bottom: 20px;">Celebrating excellence: Employee of the Month, Quarter, and Year awards.</p>
    <div id="recognitionWrap" role="region" aria-label="Recognition awards"></div>
  </div>
</div>

<!-- Footer -->
<footer class="rose-footer">
  <div class="footer-content">
    <img src="rose-logo.svg" alt="ROSE Logo" class="footer-logo">
    <p class="footer-text">ROSE Performance Management System</p>
    <p class="footer-tagline">Empowering Excellence Through Data-Driven Insights</p>
  </div>
</footer>

<!-- Load external JavaScript files at the end of body for better performance -->
<script src="ai-analytics.js"></script>
<script src="ai-analytics-ui.js"></script>
<script src="ui-enhancements.js"></script>
<script src="dashboard-charts.js"></script>
<script src="script.js"></script>
</body>
</html>
